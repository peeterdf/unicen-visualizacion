<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>Template</title>
	</head>
</body>
		<canvas id="canvas" width="900" height="600" style="border:#000 solid 1px;" />
	</body>
	<script>
		   //http://www.javascripture.com/
			var canvas = document.getElementById("canvas");
			var ctx =document.getElementById("canvas").getContext("2d");
		 	var width=900;
		 	var height=600;
		 	var imageData =ctx.createImageData(width,height);

			function Circle(){
				this.posX = 4;
				this.posy = 4;
				this.radio = 10;
				this.color = '#141444';
			}

			function Circle(paramPosX, paramPosY, paramRadio, paramColor){
				this.posX = paramPosX;
				this.posY = paramPosY;
				this.radio = paramRadio;
				this.color = paramColor;
			}

			Circle.prototype.message = function(){
				alert('soy circulito con radio:'+this.radio);
			}

			Circle.prototype.dibujar = function(){
				ctx.fillStyle = this.color;
				ctx.beginPath();
				ctx.arc(this.posX,this.posY,this.radio,0,Math.PI * 2);
				ctx.fill();
				ctx.closePath();

				ctx.beginPath();
				ctx.arc(this.posX,this.posY,this.radio,0,Math.PI * 2);
				ctx.lineWidth =15;
				ctx.lineCap = 'round';
				ctx.strokeStyle = 'black';
				ctx.stroke();
				ctx.closePath();
			}

			Circle.prototype.setimage = function(image){
				this.color = image;
				this.dibujar();
			}

			var circulo1 = new Circle(300,300,300,'#cf1404');


			 circulo1.dibujar();


			 function getMousePos(canvas, evt) {
        var rect = canvas.getBoundingClientRect();
        return {
          x: evt.clientX - rect.left,
          y: evt.clientY - rect.top
        };
      }


		 function agregaimagen(){
			 canvas.addEventListener('click', function(evt) {
				 var img = new Image();
				 img.src = 'cara.png';
				 img.onload = function(){
				 img.width = circulo1.radio * 2;
				 img.height = circulo1.radio * 2;
				 //ctx.drawImage(img, 0, 0, img.width,img.height );
	 				var image = ctx.createPattern(img,"no-repeat");
	 				circulo1.setimage(image);
	 			}
			 }, false);
		 }
		 agregaimagen();

	</script>
</html>
